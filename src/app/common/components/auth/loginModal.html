<!--
<Created>by Hyperlink on 04/04/16.</Created>-->
<div class="modal-header">
  <button type="button" data-dismiss="modal" aria-label="Close" ng-click="loginModal.close()" class="close"><span aria-hidden="true">&times;</span></button>
  <h4 id="myModalLabel" class="modal-title">Accedi</h4>
</div>
<div class="modal-body">
  <uib-alert ng-show="loginModal.error" type="danger">Si Ã¨ verificato un errore, controllare username e password inseriti</uib-alert>
  <uib-alert ng-show="loginModal.state == loginModal.states.STATE_RECOVERY_OK" type="success">Recupera password avviato, ti abbiamo inviato una email alla casella di posta usata per la registrazione con le istruzioni</uib-alert>
  <ng-form name="loginForm">
    <div ng-show="loginModal.state == loginModal.states.STATE_LOGIN" ng-class="{ 'has-error': loginForm.user.$invalid &amp;&amp; loginForm.user.$dirty, 'has-success': loginForm.user.$valid &amp;&amp; loginForm.user.$dirty}" class="form-group">
      <label for="user">Email/Nickname</label>
      <input type="text" id="user" ng-model="loginModal.user" name="user" placeholder="Inserisci l'email" ng-required="true" class="form-control"/>
    </div>
    <div ng-show="loginModal.state == loginModal.states.STATE_LOGIN" ng-class="{ 'has-error': loginForm.password.$invalid &amp;&amp; loginForm.password.$dirty, 'has-success': loginForm.password.$valid &amp;&amp; loginForm.password.$dirty}" class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" ng-model="loginModal.password" name="password" placeholder="la password deve essere di almeno 8 caratteri" ng-required="true" class="form-control"/>
    </div>
    <div ng-show="loginModal.state == loginModal.states.STATE_PASSWORD_RECOVERY " ng-class="{ 'has-error': loginForm.password.$invalid &amp;&amp; loginForm.password.$dirty, 'has-success': loginForm.password.$valid &amp;&amp; loginForm.password.$dirty}" class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" ng-model="loginModal.email" name="email" placeholder="inserire la email usata in fase di registrazione" ng-required="true" class="form-control"/>
    </div>
    <div ng-show="loginModal.state == loginModal.states.STATE_LOGIN" class="mg-b-1"><a ng-click="loginModal.toState(loginModal.states.STATE_PASSWORD_RECOVERY)">ti sei dimenticato la password ?</a></div>
    <div ng-show="loginModal.state == loginModal.states.STATE_PASSWORD_RECOVERY" class="mg-b-1"><a ng-click="loginModal.toState(loginModal.states.STATE_LOGIN)">torna al login</a></div>
    <button type="button" ng-show="loginModal.state == loginModal.states.STATE_LOGIN" ng-disabled="loginForm.username.$invalid || loginForm.password.$invalid" ng-click="loginModal.ok()" class="btn btn-danger">Login</button>
    <button type="button" ng-show="loginModal.state == loginModal.states.STATE_PASSWORD_RECOVERY" ng-disabled="loginForm.email.$invalid" ng-click="loginModal.recovery()" class="btn btn-danger">Recovery</button>
    <button type="button" ng-show="loginModal.state == loginModal.states.STATE_RECOVERY_OK" ng-click="loginModal.home()" class="btn btn-danger">Ok</button>
  </ng-form>
</div>
<div class="modal-footer">
  <div class="row">
    <div class="col-md-6 text-center">
      <div role="group" class="btn-group"><a ng-href="{{loginModal.ENV.authBasePath}}google-login" class="btn btn-primary">ACCEDI CON &nbsp;</a><a ng-href="{{loginModal.ENV.authBasePath}}google-login" class="btn btn-default"><i aria-hidden="true" class="fa fa-google text-primary"></i></a></div>
    </div>
    <div class="col-md-6 text-center">
      <div role="group" class="btn-group"><a ng-href="{{loginModal.ENV.authBasePath}}facebook-login" class="btn btn-primary">ACCEDI CON &nbsp;</a><a ng-href="{{loginModal.ENV.authBasePath}}facebook-login" class="btn btn-default"><i aria-hidden="true" class="fa fa-facebook-official text-primary"></i></a></div>
    </div>
  </div>
</div>